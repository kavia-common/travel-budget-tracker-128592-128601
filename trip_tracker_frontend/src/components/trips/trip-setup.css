/* New hero wrapper for Trip Setup page */
.tt-setup-hero {
  position: relative;
  padding: var(--space-12) 0 var(--space-16);
  background: var(--color-bg); /* base behind image for safe fallback */
  overflow: hidden;
  isolation: isolate;
}

/* Full-bleed scenic background image layer */
.tt-setup-hero__bg {
  position: absolute;
  inset: 0;
  z-index: -3; /* bottom-most */
  /* Use CSS variable hook so we don't hard-require a file during build.
     Default to existing SVG asset that already exists in repo. */
  --tt-setup-bg-image: url('../../assets/trip-setup-bg.svg');
  background-image: var(--tt-setup-bg-image);
  background-repeat: no-repeat;
  background-position: center center;
  background-size: cover;
  transform: scale(1.02); /* slight scale to avoid edge gaps on blur */
  filter: brightness(0.65) saturate(110%); /* initial darken to improve contrast */
}

/* Soft overlay veil to ensure text/form readability regardless of image colors */
.tt-setup-hero__veil {
  content: '';
  position: absolute;
  inset: 0;
  z-index: -2;
  pointer-events: none;
  /* combine radial focus light + subtle backdrop blur */
  background:
    radial-gradient(60% 55% at 50% 28%, rgba(255,255,255,0.40), rgba(255,255,255,0.20) 55%, rgba(255,255,255,0.10) 100%),
    linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
  backdrop-filter: blur(2.5px);
}

/* Hero heading section */
.tt-setup-hero__container {
  position: relative;
  z-index: 0; /* above overlays */
  display: grid;
  gap: var(--space-8);
}
.tt-setup-hero__header {
  text-align: left;
}
.tt-setup-hero__title {
  font-size: clamp(30px, 4vw, 44px);
  line-height: var(--line-height-tight);
  font-weight: 800;
  color: var(--color-text); /* black/near-black */
  letter-spacing: -0.02em;
  text-shadow: 0 1px 1px rgba(255,255,255,0.35); /* slight lift over darker bg */
}
.tt-setup-hero__subtitle {
  color: var(--color-text-muted);
  font-size: var(--font-size-lg);
  text-shadow: 0 1px 1px rgba(255,255,255,0.25);
}
.tt-setup-accents {
  display: inline-flex;
  gap: 10px;
  margin-top: var(--space-2);
}
.tt-setup-accents .dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  box-shadow: var(--shadow-softer);
}
.dot-yellow { background: var(--color-accent); }      /* sunny */
.dot-green { background: var(--accent-green); }
.dot-pink  { background: var(--accent-pink); }
.dot-blue  { background: var(--brand-primary); }

/* Floating white card for the form with strong contrast */
.tt-setup-card {
  position: relative;
  z-index: 1; /* ensure above bg & veils */
  margin-top: var(--space-4);
  border-radius: var(--radius-xl);
  box-shadow: 0 24px 60px rgba(2, 6, 23, 0.18), var(--shadow-soft);
  border: 1px solid rgba(255,255,255,0.7); /* crisper against photo bg */
  background: #ffffff; /* solid white for strong contrast */
}

/* Search-bar-like row behavior */
.tt-setup-row {
  /* Consistent columns: name grows, total fixed, daily group fixed width but responsive */
  grid-template-columns: 1.5fr 0.9fr 1.1fr;
  align-items: center;
}

/* When a row has four fields (desktop only), allow wrap with good spacing via auto-fit */
@media (min-width: 1101px) {
  .tt-setup-row {
    grid-auto-flow: row dense;
  }
}

/* Daily group aligns toggle and input tightly */
.tt-setup-daily-group {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: var(--space-3);
  padding: 6px;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-surface);
  box-shadow: var(--shadow-softer);
  min-width: 280px;
}
.tt-setup-daily-group.disabled {
  opacity: 0.7;
  background: var(--color-surface);
}
.tt-setup-daily-group.enabled {
  border-color: color-mix(in srgb, var(--brand-primary) 40%, var(--color-border));
  box-shadow: var(--shadow-soft);
}

.tt-setup-daily-toggle {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  min-width: 150px;
}

.tt-setup-daily-input .label {
  /* keep label from overlapping switch; slight left padding sync */
  left: 12px;
}
.tt-setup-toggle-label {
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}

/* Invite link presentation */
.tt-setup-link .card {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 10px 12px;
  width: 100%;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-softer);
}
.tt-setup-link-label {
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}
.tt-setup-link-code {
  font-size: var(--font-size-sm);
}

/* Footnote */
.tt-setup-footnote {
  color: var(--color-text-muted);
}

/* Inputs inside hero card: clean pastel surface */
.tt-setup-card .field input,
.tt-setup-card .field select,
.tt-setup-card .field textarea {
  background: var(--color-surface-muted);
}

@media (max-width: 1100px) {
  .tt-setup-row {
    grid-template-columns: 1fr 1fr;
  }
  .tt-setup-daily-group {
    grid-template-columns: auto 1fr;
    min-width: 0;
    width: 100%;
  }
}

@media (max-width: 800px) {
  .tt-setup-hero {
    padding: var(--space-10) 0 var(--space-12);
  }
  .tt-setup-hero__bg {
    background-position: center center;
    background-size: cover;
    filter: brightness(0.6) saturate(112%) blur(1px);
  }
  .tt-setup-row {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }
  .tt-setup-card {
    border-radius: var(--radius-lg);
  }
  .tt-setup-daily-group {
    grid-template-columns: 1fr;
    gap: var(--space-3);
  }
  .tt-setup-daily-toggle {
    justify-content: space-between;
  }
}

/* Dark theme adjustments */
[data-theme="dark"] .tt-setup-hero__veil {
  background:
    radial-gradient(60% 55% at 50% 28%, rgba(17,24,39,0.46), rgba(17,24,39,0.28) 55%, rgba(17,24,39,0.18) 100%),
    linear-gradient(180deg, rgba(17,24,39,0.22), rgba(17,24,39,0.18));
  backdrop-filter: blur(2.5px);
}
[data-theme="dark"] .tt-setup-card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  box-shadow: var(--shadow-soft);
}
